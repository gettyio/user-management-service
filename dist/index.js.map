{"version":3,"sources":["../src/index.js"],"names":["secret","unless","app","mongoose","User","jwt","passport","use","decodeJWT","hydrateUser"],"mappings":";;;;;;kBAMe,gBAA6C;AAAA,MAAjCA,MAAiC,QAAjCA,MAAiC;AAAA,MAAzBC,MAAyB,QAAzBA,MAAyB;AAAA,MAAjBC,GAAiB,QAAjBA,GAAiB;AAAA,MAAZC,QAAY,QAAZA,QAAY;;AAC1D,MAAMC,OAAO,oBAAY,EAAEA,MAAM,yBAAU,EAAED,kBAAF,EAAV,CAAR,EAAZ,CAAb;AACA,MAAME,MAAM,mBAAW,EAAED,UAAF,EAAQJ,cAAR,EAAX,CAAZ;AACA,MAAMM,WAAW,wBAAgB,EAAEF,UAAF,EAAQC,QAAR,EAAhB,CAAjB;;AAEAH,MAAIK,GAAJ,CAAQF,IAAIG,SAAJ,CAAcP,MAAd,CAAqBA,MAArB,CAAR;AACAC,MAAIK,GAAJ,CAAQF,IAAII,WAAJ,CAAgBR,MAAhB,CAAuBA,MAAvB,CAAR;AACA,SAAO,oBAAM,EAAEK,kBAAF,EAAN,CAAP;AACD,C;;AAdD;;;;AACA;;;;AACA;;;;AACA;;;;AACA","file":"index.js","sourcesContent":["import userModel from './models/user/userModel';\nimport userFactory from './models/user';\nimport jwtFactory from './config/jwt';\nimport passportFactory from './config/passport';\nimport users from './services/user';\n\nexport default function ({ secret, unless, app, mongoose }) {\n  const User = userFactory({ User: userModel({ mongoose }) });\n  const jwt = jwtFactory({ User, secret });\n  const passport = passportFactory({ User, jwt });\n\n  app.use(jwt.decodeJWT.unless(unless));\n  app.use(jwt.hydrateUser.unless(unless));\n  return users({ passport });\n}\n"]}